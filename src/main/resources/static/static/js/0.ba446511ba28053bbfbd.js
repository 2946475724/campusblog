webpackJsonp([0],{GEWI:function(t,e){},Hcjv:function(t,e){},ORJJ:function(t,e){},lX9o:function(t,e){},md3T:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("XpZt"),n=s("woOf"),c=s.n(n),a=s("vMJZ"),o={name:"follow",props:["userId"],data:function(){return{follows:[]}},watch:{userId:function(t){this.userId=t,this.getFollows()}},created:function(){this.getFollows()},methods:{getFollows:function(){var t=this,e={userId:this.userId};Object(a.c)(e).then(function(e){t.follows=e.data.follows;for(var s={isFollow:1},i=0;i<t.follows.length;i++)c()(t.follows[i],s)})},follow:function(t){var e=this,s={userId:this.userId,followingId:t};Object(a.a)(s).then(function(s){200===s.code&&(e.$message("关注成功"),e.follows.forEach(function(s){s.id===t&&e.$set(s,"isFollow",1)}),e.$forceUpdate())})},unFollow:function(t){var e=this;console.log(t);var s={userId:this.userId,followingId:t};Object(a.h)(s).then(function(s){if(200===s.code){e.$message("取消关注");e.follows;e.follows.forEach(function(s){s.id===t&&e.$set(s,"isFollow",0)}),e.$forceUpdate()}})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-box"},[s("div",[0===t.follows.length?s("ul",{staticStyle:{"text-align":"center","font-size":"14px"}},[t._v("\n      你还未关注用户~\n    ")]):s("ul",t._l(t.follows,function(e,i){return s("li",{key:i,staticClass:"follow-list"},[s("div",{staticClass:"follow-info"},[s("el-avatar",{attrs:{src:e.icon}}),t._v(" "),s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.nickName))])],1),t._v(" "),s("div",[1===e.isFollow?s("el-button",{attrs:{size:"small"},on:{click:function(s){return t.unFollow(e.id)}}},[t._v("取消关注")]):s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.follow(e.id)}}},[t._v("关注")])],1)])}),0)])])},staticRenderFns:[]};var r=s("VU/8")(o,l,!1,function(t){s("ORJJ")},null,null).exports,u=s("viA7"),d={name:"Article",props:["userId"],data:function(){return{articleList:[]}},created:function(){console.log(this.userId),this.getArticlesByUserId()},methods:{getArticlesByUserId:function(){var t=this,e={userId:this.userId};Object(u.i)(e).then(function(e){t.articleList=e.data})},deleteArticle:function(t){var e=this,s={id:t};this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.d)(s).then(function(t){200===t.code&&(e.getArticlesByUserId(),e.$message({type:"success",message:"删除成功!"}))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},gotoInfo:function(t){console.log(t);this.$router.push({path:"/detail/"+t})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"article-box"},[0===t.articleList.length?s("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[t._v("还未发表文章哦~")]):t._l(t.articleList,function(e,i){return s("div",{key:i,staticClass:"article-item"},[s("h3",{staticClass:"title",on:{click:function(s){return t.gotoInfo(e.id)}}},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"description"},[t._v(t._s(e.summary))]),t._v(" "),s("div",{staticClass:"meta"},[s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"view"}}),t._v(" "+t._s(e.views)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"comment"}}),t._v(" "+t._s(e.comment)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"like"}}),t._v(" "+t._s(e.likes)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-delete",on:{click:function(s){return t.deleteArticle(e.id)}}},[t._v("删除")])])])})],2)])},staticRenderFns:[]};var v=s("VU/8")(d,f,!1,function(t){s("GEWI")},null,null).exports,m={name:"Collection",props:["userId"],data:function(){return{user:"",collectArticleList:[]}},created:function(){this.getCollectArticleByUserId()},methods:{getCollectArticleByUserId:function(){var t=this;Object(u.j)(this.userId).then(function(e){t.collectArticleList=e.data})},cancel:function(t){var e=this,s={articleId:t,userId:this.userId,status:0};console.log(s),this.$confirm("确认取消收藏吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.c)(s).then(function(t){200===t.code&&(e.getCollectArticleByUserId(),e.$message({type:"success",message:"取消收藏成功!"}))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},gotoInfo:function(t){console.log(t);this.$router.push({path:"/detail/"+t})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"article-box"},[0===t.collectArticleList.length?s("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[t._v("还未收藏文章哦~")]):t._l(t.collectArticleList,function(e,i){return s("div",{key:i,staticClass:"article-item"},[s("h3",{staticClass:"title",on:{click:function(s){return t.gotoInfo(e.id)}}},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"description"},[t._v(t._s(e.summary))]),t._v(" "),s("div",{staticClass:"meta"},[s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"view"}}),t._v(" "+t._s(e.views)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"comment"}}),t._v(" "+t._s(e.comment)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-item"},[s("svg-icon",{staticClass:"icon-size",attrs:{"icon-class":"like"}}),t._v(" "+t._s(e.likes)+"\n        ")],1),t._v(" "),s("span",{staticClass:"meta-delete",on:{click:function(s){return t.cancel(e.id)}}},[t._v("取消收藏")])])])})],2)])},staticRenderFns:[]};var h=s("VU/8")(m,_,!1,function(t){s("lX9o")},null,null).exports,g={name:"user",components:{NavBar:i.a,Article:v,Follow:r,Collection:h},data:function(){return{activeName:"tab1",user:""}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;Object(a.d)().then(function(e){t.user=e.data})},handleClick:function(t,e){console.log(t.name)}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("NavBar"),t._v(" "),s("div",{staticClass:"main-container"},[s("div",{staticClass:"main-content"},[s("div",{staticClass:"user-info"},[s("div",[s("el-avatar",{attrs:{size:80,fit:"fit",icon:"el-icon-user-solid",src:t.user.icon}})],1),t._v(" "),s("div",{staticClass:"info-box"},[s("h2",[t._v(t._s(t.user.nickName))]),t._v(" "),s("span",[t._v(t._s(t.user.note))])])]),t._v(" "),s("div",{staticClass:"list-box"},[s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"文章",name:"tab1"}},[void 0!=t.user.id?s("Article",{attrs:{userId:t.user.id}}):t._e()],1),t._v(" "),s("el-tab-pane",{attrs:{label:"我的收藏",name:"tab2"}},[void 0!=t.user.id?s("Collection",{attrs:{userId:t.user.id}}):t._e()],1),t._v(" "),s("el-tab-pane",{attrs:{label:"我的关注",name:"tab3"}},[void 0!=t.user.id?s("Follow",{attrs:{userId:t.user.id}}):t._e()],1)],1)],1)])])],1)},staticRenderFns:[]};var C=s("VU/8")(g,p,!1,function(t){s("Hcjv")},null,null);e.default=C.exports}});
//# sourceMappingURL=0.ba446511ba28053bbfbd.js.map