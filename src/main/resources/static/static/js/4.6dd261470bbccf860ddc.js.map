{"version":3,"sources":["webpack:///src/views/home/list.vue","webpack:///./src/views/home/list.vue?e08a","webpack:///./src/views/home/list.vue"],"names":["list","name","data","articleList","keyword","currentPage","totalPage","pageSize","isEnd","loading","searchArticleList","created","this","getArticleList","watch","$route","to","from","query","methods","_this","params","pageNum","Object","article","then","resp","articles","length","concat","console","log","gotoInfo","id","$router","push","path","loadContent","filters","strFilter","value","substring","home_list","render","_vm","_h","$createElement","_c","_self","staticClass","_l","index","key","attrs","src","coverImage","_v","href","on","click","$event","_s","title","_f","summary","icon-class","createTime","views","comment","likes","categoryName","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0IAuDAA,GACAC,KAAA,OACAC,KAFA,WAGA,OACAC,eACAC,QAAA,GACAC,YAAA,EACAC,UAAA,EACAC,SAAA,EACAC,OAAA,EACAC,SAAA,EACAC,uBAGAC,QAdA,WAeAC,KAAAC,kBAEAC,OACAC,OADA,SACAC,EAAAC,GACAL,KAAAR,QAAAQ,KAAAG,OAAAG,MAAAd,QACAQ,KAAAF,qBACAE,KAAAC,mBAGAM,SACAN,eADA,WACA,IAAAO,EAAAR,KACAA,KAAAR,QAAAQ,KAAAG,OAAAG,MAAAd,QACA,IAAAiB,GACAC,QAAAV,KAAAP,YACAD,QAAAQ,KAAAR,SAEMmB,OAAAC,EAAA,EAAAD,CAANF,GAAAI,KAAA,SAAAC,GACAN,EAAAd,UAAAoB,EAAAxB,KAAAI,UACAc,EAAAb,SAAAmB,EAAAxB,KAAAK,SACA,IAAAoB,EAAAD,EAAAxB,KAAAF,KACA2B,EAAAC,OAAAR,EAAAb,WACAa,EAAAZ,OAAA,GAEAmB,EAAAP,EAAAV,kBAAAmB,OAAAF,GACAP,EAAAV,kBAAAiB,EACAP,EAAAjB,YAAAwB,EACAG,QAAAC,IAAAL,EAAAxB,KAAAF,SAIAgC,SArBA,SAqBAC,GACAH,QAAAC,IAAAE,GACArB,KAAAsB,QAAAC,MACAC,KAAA,WAAAH,IAEMV,OAAAC,EAAA,EAAAD,CAANU,GAAAR,KAAA,SAAAC,GACAI,QAAAC,IAAAL,MAIAW,YA/BA,WAgCAzB,KAAAP,YAAAO,KAAAP,YAAA,EACAO,KAAAP,cAAAO,KAAAN,YACAM,KAAAJ,OAAA,GAEAsB,QAAAC,IAAAnB,KAAAJ,OACAI,KAAAC,mBAGAyB,SACAC,UADA,SACAC,GAIA,OAHAA,KAAAZ,OAAA,KACAY,IAAAC,UAAA,aAEAD,KCzHeE,GADEC,OAFjB,WAA0B,IAAAC,EAAAhC,KAAaiC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BL,EAAAM,GAAAN,EAAA,qBAAApB,EAAA2B,GAAmD,OAAAJ,EAAA,OAAiBK,IAAA5B,EAAAS,GAAAgB,YAAA,sBAA+CF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYM,OAAOC,IAAA9B,EAAA+B,gBAA0BX,EAAAY,GAAA,KAAAT,EAAA,OAA0BE,YAAA,cAAwBF,EAAA,KAAUM,OAAOI,KAAA,uBAA6BC,IAAKC,MAAA,SAAAC,GAAyB,OAAAhB,EAAAZ,SAAAR,EAAAS,QAAkCc,EAAA,MAAWE,YAAA,eAAyBL,EAAAY,GAAAZ,EAAAiB,GAAArC,EAAAsC,YAAAlB,EAAAY,GAAA,KAAAT,EAAA,KAAwDE,YAAA,qBAA+BL,EAAAY,GAAA,eAAAZ,EAAAiB,GAAAjB,EAAAmB,GAAA,YAAAnB,CAAApB,EAAAwC,UAAA,gBAAApB,EAAAY,GAAA,KAAAT,EAAA,OAA2GE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,SAAmBF,EAAA,YAAiBE,YAAA,YAAAI,OAA+BY,aAAA,UAAqBrB,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAAZ,EAAAiB,GAAAjB,EAAAmB,GAAA,aAAAnB,CAAApB,EAAA0C,iBAAA,GAAAtB,EAAAY,GAAA,KAAAT,EAAA,QAA+GE,YAAA,UAAoBF,EAAA,YAAiBE,YAAA,YAAAI,OAA+BY,aAAA,UAAqBrB,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAAZ,EAAAiB,GAAA,OAAArC,EAAA2C,MAAA,EAAA3C,EAAA2C,WAAA,GAAAvB,EAAAY,GAAA,KAAAT,EAAA,QAAiHE,YAAA,UAAoBF,EAAA,YAAiBE,YAAA,YAAAI,OAA+BY,aAAA,aAAwBrB,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAAZ,EAAAiB,GAAArC,EAAA4C,aAAA,GAAAxB,EAAAY,GAAA,KAAAT,EAAA,QAAsFE,YAAA,UAAoBF,EAAA,YAAiBE,YAAA,YAAAI,OAA+BY,aAAA,UAAqBrB,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAAZ,EAAAiB,GAAArC,EAAA6C,WAAA,GAAAzB,EAAAY,GAAA,KAAAT,EAAA,QAAoFE,YAAA,UAAoBF,EAAA,YAAiBE,YAAA,aAAAI,OAAgCY,aAAA,cAAyBrB,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAAZ,EAAAiB,GAAArC,EAAA8C,kBAAA,aAA4E1B,EAAAY,GAAA,KAAAT,EAAA,OAAwBE,YAAA,cAAuBL,EAAApC,OAAAoC,EAAAtC,UAAA,EAAAyC,EAAA,OAA8CE,YAAA,eAAAS,IAA+BC,MAAAf,EAAAP,eAAyBO,EAAAY,GAAA,0BAAAZ,EAAA2B,KAAA3B,EAAAY,GAAA,KAAAZ,EAAA,MAAAG,EAAA,WAAgFH,EAAAY,GAAA,cAAAZ,EAAA2B,KAAA3B,EAAAY,GAAA,SAAAZ,EAAAtC,UAAAyC,EAAA,QAAAH,EAAAY,GAAA,WAAAZ,EAAA2B,QAAA,IAEx4DC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE3E,EACA0C,GATF,EAVA,SAAAkC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.6dd261470bbccf860ddc.js","sourcesContent":["<template>\r\n  <div class=\"article-list\">\r\n    <div class=\"article-list-item\" v-for=\"(article, index) in articleList\" :key=\"article.id\">\r\n      <div class=\"item-content\">\r\n        <div class=\"item-pic\">\r\n          <img :src=\"article.coverImage\" />\r\n        </div>\r\n        <div class=\"item-body\">\r\n          <a href=\"javascript:void(0);\" @click=\"gotoInfo(article.id)\">\r\n            <h2 class=\"item-title\">{{article.title}}</h2>\r\n          </a>\r\n          <p class=\"item-description\">\r\n            {{article.summary | strFilter}}\r\n          </p>\r\n          <div class=\"item-meta\">\r\n            <span class=\"date\">\r\n              <svg-icon icon-class=\"time\" class=\"icon-size\"></svg-icon>\r\n              <span>{{article.createTime | dateFormat}}</span>\r\n            </span>\r\n            <span class=\"views\">\r\n              <svg-icon icon-class=\"view\" class=\"icon-size\"></svg-icon>\r\n              <span>{{article.views === null ? 0 : article.views}}</span>\r\n            </span>\r\n            <span class=\"views\">\r\n              <svg-icon icon-class=\"comment\" class=\"icon-size\"></svg-icon>\r\n              <span>{{article.comment}}</span>\r\n            </span>\r\n            <span class=\"views\">\r\n              <svg-icon icon-class=\"like\" class=\"icon-size\"></svg-icon>\r\n              <span>{{article.likes}}</span>\r\n            </span>\r\n            <span class=\"views\">\r\n              <svg-icon icon-class=\"category\" class=\"color-size\"></svg-icon>\r\n              <span>{{article.categoryName}}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"list-end\">\r\n      <div class=\"load-content\" v-if=\"!isEnd && totalPage > 0\" @click=\"loadContent\">\r\n        点击加载更多\r\n      </div>\r\n      <span class=\"\" v-if=\"isEnd\">我也是有底线的~</span>\r\n      <span v-if=\"totalPage === 0\">空空如也~</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    fetchList,\r\n    addArticleViewCount\r\n  } from \"@/api/article\";\r\n  export default {\r\n    name: \"List\",\r\n    data() {\r\n      return {\r\n        articleList: [],\r\n        keyword: \"\",\r\n        currentPage: 1,\r\n        totalPage: 0,\r\n        pageSize: 5,\r\n        isEnd: false, // 是否到底部了\r\n        loading: false, // 内容是否正在加载\r\n        searchArticleList: [],\r\n      }\r\n    },\r\n    created() {\r\n      this.getArticleList();\r\n    },\r\n    watch: {\r\n      $route(to, from) {\r\n        this.keyword = this.$route.query.keyword;\r\n        this.searchArticleList = [];\r\n        this.getArticleList();\r\n      }\r\n    },\r\n    methods: {\r\n      getArticleList() {\r\n        this.keyword = this.$route.query.keyword\r\n        let  params = {\r\n          \"pageNum\": this.currentPage,\r\n          \"keyword\": this.keyword\r\n        }\r\n        fetchList(params).then(resp => {\r\n          this.totalPage = resp.data.totalPage\r\n          this.pageSize = resp.data.pageSize\r\n          let articles = resp.data.list;\r\n          if (articles.length < this.pageSize) {\r\n            this.isEnd = true\r\n          }\r\n          articles = this.searchArticleList.concat(articles)\r\n          this.searchArticleList = articles\r\n          this.articleList = articles\r\n          console.log(resp.data.list);\r\n        })\r\n      },\r\n      //跳转文章详情页\r\n      gotoInfo(id) {\r\n        console.log(id);\r\n        let routeData = this.$router.push({\r\n          path: `/detail/${id}`,\r\n        })\r\n        addArticleViewCount(id).then(resp => {\r\n          console.log(resp)\r\n        })\r\n      },\r\n      //加载更多\r\n      loadContent() {\r\n        this.currentPage = this.currentPage + 1\r\n        if (this.currentPage === this.totalPage) {\r\n          this.isEnd = true\r\n        }\r\n        console.log(this.isEnd)\r\n        this.getArticleList()\r\n      },\r\n    },\r\n    filters: {\r\n      strFilter(value) {\r\n        if (value && value.length > 50) {\r\n          value = value.substring(0, 50) + '...';\r\n        }\r\n        return value;\r\n      }\r\n    },\r\n    \r\n  }\r\n\r\n</script>\r\n\r\n<style>\r\n  .article-list-item {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .item-content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    height: 150px;\r\n    padding: 10px;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .item-pic {\r\n    width: 30%;\r\n    max-width: 200px;\r\n    height: 150px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .item-pic img {\r\n    width: 100%;\r\n    height: 100%;\r\n    transition: all 0.6s ease;\r\n  }\r\n\r\n  .item-pic img:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  .item-body {\r\n    margin-left: 15px;\r\n    width: 100%;\r\n  }\r\n\r\n  .item-title {\r\n    margin-top: 3px;\r\n    margin-bottom: 5px;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    color: #333;\r\n    transition: margin 0.25s;\r\n  }\r\n  .item-title:hover {\r\n    color: #eeaaee;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  .item-description {\r\n    margin-top: 10px;\r\n    height: 80px;\r\n    font-size: 13px;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n    margin-bottom: 10px;\r\n    word-wrap: break-word;\r\n    color: #999;\r\n  }\r\n\r\n  .item-meta {\r\n    height: 15px;\r\n    line-height: 15px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: baseline;\r\n    overflow: hidden;\r\n    word-wrap: normal;\r\n    white-space: nowrap;\r\n    font-size: 12px;\r\n  }\r\n  .list-end {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .load-content {\r\n    background-color: #eeaaee;\r\n    padding: 5px 10px;\r\n    color: #fff;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    margin-top: 20px;\r\n  }\r\n  .load-content:hover {\r\n    color: #fff;\r\n    background-color: #f0a2f0;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/home/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-list\"},[_vm._l((_vm.articleList),function(article,index){return _c('div',{key:article.id,staticClass:\"article-list-item\"},[_c('div',{staticClass:\"item-content\"},[_c('div',{staticClass:\"item-pic\"},[_c('img',{attrs:{\"src\":article.coverImage}})]),_vm._v(\" \"),_c('div',{staticClass:\"item-body\"},[_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.gotoInfo(article.id)}}},[_c('h2',{staticClass:\"item-title\"},[_vm._v(_vm._s(article.title))])]),_vm._v(\" \"),_c('p',{staticClass:\"item-description\"},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"strFilter\")(article.summary))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"item-meta\"},[_c('span',{staticClass:\"date\"},[_c('svg-icon',{staticClass:\"icon-size\",attrs:{\"icon-class\":\"time\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(article.createTime)))])],1),_vm._v(\" \"),_c('span',{staticClass:\"views\"},[_c('svg-icon',{staticClass:\"icon-size\",attrs:{\"icon-class\":\"view\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(article.views === null ? 0 : article.views))])],1),_vm._v(\" \"),_c('span',{staticClass:\"views\"},[_c('svg-icon',{staticClass:\"icon-size\",attrs:{\"icon-class\":\"comment\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(article.comment))])],1),_vm._v(\" \"),_c('span',{staticClass:\"views\"},[_c('svg-icon',{staticClass:\"icon-size\",attrs:{\"icon-class\":\"like\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(article.likes))])],1),_vm._v(\" \"),_c('span',{staticClass:\"views\"},[_c('svg-icon',{staticClass:\"color-size\",attrs:{\"icon-class\":\"category\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(article.categoryName))])],1)])])])])}),_vm._v(\" \"),_c('div',{staticClass:\"list-end\"},[(!_vm.isEnd && _vm.totalPage > 0)?_c('div',{staticClass:\"load-content\",on:{\"click\":_vm.loadContent}},[_vm._v(\"\\n      点击加载更多\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.isEnd)?_c('span',{},[_vm._v(\"我也是有底线的~\")]):_vm._e(),_vm._v(\" \"),(_vm.totalPage === 0)?_c('span',[_vm._v(\"空空如也~\")]):_vm._e()])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-316e74cc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/home/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-316e74cc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-316e74cc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}